ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(e,f,c){var l=e("./lib/oop");var q=e("./lib/event_emitter").EventEmitter;var b=e("./lib/lang");var d=e("./range").Range;var g=e("./anchor").Anchor;var j=e("./keyboard/hash_handler").HashHandler;var n=e("./tokenizer").Tokenizer;var p=d.comparePoints;var a=function(){this.snippetMap={};this.snippetNameMap={}};(function(){l.implement(this,q);this.getTokenizer=function(){function r(v,u,t){v=v.substr(1);if(/^\d+$/.test(v)&&!t.inFormatString){return[{tabstopId:parseInt(v,10)}]}return[{text:v}]}function s(t){return"(?:[^\\\\"+t+"]|\\\\.)"}a.$tokenizer=new n({start:[{regex:/:/,onMatch:function(v,u,t){if(t.length&&t[0].expectIf){t[0].expectIf=false;t[0].elseBranch=t[0];return[t[0]]}return":"}},{regex:/\\./,onMatch:function(w,v,t){var u=w[1];if(u=="}"&&t.length){w=u}else{if("`$\\".indexOf(u)!=-1){w=u}else{if(t.inFormatString){if(u=="n"){w="\n"}else{if(u=="t"){w="\n"}else{if("ulULE".indexOf(u)!=-1){w={changeCase:u,local:u>"a"}}}}}}}return[w]}},{regex:/}/,onMatch:function(v,u,t){return[t.length?t.shift():v]}},{regex:/\$(?:\d+|\w+)/,onMatch:r},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(x,w,u){var v=r(x.substr(1),w,u);u.unshift(v[0]);return v},next:"snippetVar"},{regex:/\n/,token:"newline",merge:false}],snippetVar:[{regex:"\\|"+s("\\|")+"*\\|",onMatch:function(v,u,t){t[0].choices=v.slice(1,-1).split(",")},next:"start"},{regex:"/("+s("/")+"+)/(?:("+s("/")+"*)/)(\\w*):?",onMatch:function(w,v,t){var u=t[0];u.fmtString=w;w=this.splitRegex.exec(w);u.guard=w[1];u.fmt=w[2];u.flag=w[3];return""},next:"start"},{regex:"`"+s("`")+"*`",onMatch:function(v,u,t){t[0].code=v.splice(1,-1);return""},next:"start"},{regex:"\\?",onMatch:function(v,u,t){if(t[0]){t[0].expectIf=true}},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+s("/")+"+)/",token:"regex"},{regex:"",onMatch:function(v,u,t){t.inFormatString=true},next:"start"}]});a.prototype.getTokenizer=function(){return a.$tokenizer};return a.$tokenizer};this.tokenizeTmSnippet=function(s,r){return this.getTokenizer().getLineTokens(s,r).tokens.map(function(t){return t.value||t})};this.$getDefaultValue=function(w,t){if(/^[A-Z]\d+$/.test(t)){var u=t.substr(1);return(this.variables[t[0]+"__"]||{})[u]}if(/^\d+$/.test(t)){return(this.variables.__||{})[t]}t=t.replace(/^TM_/,"");if(!w){return}var v=w.session;switch(t){case"CURRENT_WORD":var x=v.getWordRange();case"SELECTION":case"SELECTED_TEXT":return v.getTextRange(x);case"CURRENT_LINE":return v.getLine(w.getCursorPosition().row);case"PREV_LINE":return v.getLine(w.getCursorPosition().row-1);case"LINE_INDEX":return w.getCursorPosition().column;case"LINE_NUMBER":return w.getCursorPosition().row+1;case"SOFT_TABS":return v.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return v.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}};this.variables={};this.getVariableValue=function(r,s){if(this.variables.hasOwnProperty(s)){return this.variables[s](r,s)||""}return this.$getDefaultValue(r,s)||""};this.tmStrFormat=function(y,w,v){var s=w.flag||"";var u=w.guard;u=new RegExp(u,s.replace(/[^gi]/,""));var t=this.tokenizeTmSnippet(w.fmt,"formatString");var r=this;var x=y.replace(u,function(){r.variables.__=arguments;var C=r.resolveVariables(t,v);var D="E";for(var z=0;z<C.length;z++){var B=C[z];if(typeof B=="object"){C[z]="";if(B.changeCase&&B.local){var A=C[z+1];if(A&&typeof A=="string"){if(B.changeCase=="u"){C[z]=A[0].toUpperCase()}else{C[z]=A[0].toLowerCase()}C[z+1]=A.substr(1)}}else{if(B.changeCase){D=B.changeCase}}}else{if(D=="U"){C[z]=B.toUpperCase()}else{if(D=="L"){C[z]=B.toLowerCase()}}}}return C.join("")});this.variables.__=null;return x};this.resolveVariables=function(w,v){var r=[];for(var s=0;s<w.length;s++){var u=w[s];if(typeof u=="string"){r.push(u)}else{if(typeof u!="object"){continue}else{if(u.skip){t(u)}else{if(u.processed<s){continue}else{if(u.text){var x=this.getVariableValue(v,u.text);if(x&&u.fmtString){x=this.tmStrFormat(x,u)}u.processed=s;if(u.expectIf==null){if(x){r.push(x);t(u)}}else{if(x){u.skip=u.elseBranch}else{t(u)}}}else{if(u.tabstopId!=null){r.push(u)}else{if(u.changeCase!=null){r.push(u)}}}}}}}}function t(y){var z=w.indexOf(y,s+1);if(z!=-1){s=z}}return r};this.insertSnippetForSelection=function(w,L){var x=w.getCursorPosition();var A=w.session.getLine(x.row);var K=w.session.getTabString();var C=A.match(/^\s*/)[0];if(x.column<C.length){C=C.slice(0,x.column)}L=L.replace(/\r/g,"");var E=this.tokenizeTmSnippet(L);E=this.resolveVariables(E,w);E=E.map(function(O){if(O=="\n"){return O+C}if(typeof O=="string"){return O.replace(/\t/g,K)}return O});var N=[];E.forEach(function(T,O){if(typeof T!="object"){return}var U=T.tabstopId;var Q=N[U];if(!Q){Q=N[U]=[];Q.index=U;Q.value=""}if(Q.indexOf(T)!==-1){return}Q.push(T);var P=E.indexOf(T,O+1);if(P===-1){return}var S=E.slice(O+1,P);var R=S.some(function(V){return typeof V==="object"});if(R&&!Q.value){Q.value=S}else{if(S.length&&(!Q.value||typeof Q.value!=="string")){Q.value=S.join("")}}});N.forEach(function(O){O.length=0});var v={};function t(R){var S=[];for(var P=0;P<R.length;P++){var Q=R[P];if(typeof Q=="object"){if(v[Q.tabstopId]){continue}var O=R.lastIndexOf(Q,P-1);Q=S[O]||{tabstopId:Q.tabstopId}}S[P]=Q}return S}for(var J=0;J<E.length;J++){var F=E[J];if(typeof F!="object"){continue}var G=F.tabstopId;var I=E.indexOf(F,J+1);if(v[G]){if(v[G]===F){v[G]=null}continue}var r=N[G];var y=typeof r.value=="string"?[r.value]:t(r.value);y.unshift(J+1,Math.max(0,I-J));y.push(F);v[G]=F;E.splice.apply(E,y);if(r.indexOf(F)===-1){r.push(F)}}var z=0,s=0;var B="";E.forEach(function(P){if(typeof P==="string"){var O=P.split("\n");if(O.length>1){s=O[O.length-1].length;z+=O.length-1}else{s+=P.length}B+=P}else{if(!P.start){P.start={row:z,column:s}}else{P.end={row:z,column:s}}}});var D=w.getSelectionRange();var u=w.session.replace(D,B);var H=new k(w);var M=w.inVirtualSelectionMode&&w.selection.index;H.addTabstops(N,D.start,u,M)};this.insertSnippet=function(t,r){var s=this;if(t.inVirtualSelectionMode){return s.insertSnippetForSelection(t,r)}t.forEachSelection(function(){s.insertSnippetForSelection(t,r)},null,{keepOrder:true});if(t.tabstopManager){t.tabstopManager.tabNext()}};this.$getScope=function(s){var r=s.session.$mode.$id||"";r=r.split("/").pop();if(r==="markdown"||r==="html"||r==="php"){if(r==="php"&&!s.session.$mode.inlinePhp){r="html"}var u=s.getCursorPosition();var t=s.session.getState(u.row);if(typeof t==="object"){t=t[0]}if(t.substring){if(t.substring(0,3)=="js-"){r="javascript"}else{if(t.substring(0,4)=="css-"){r="css"}else{if(t.substring(0,4)=="php-"){r="php"}}}}}return r};this.getActiveScopes=function(s){var r=this.$getScope(s);var t=[r];var u=this.snippetMap;if(u[r]&&u[r].includeScopes){t.push.apply(t,u[r].includeScopes)}t.push("_");return t};this.expandWithTab=function(u,t){var s=this;var r=u.forEachSelection(function(){return s.expandSnippetForSelection(u,t)},null,{keepOrder:true});if(r&&u.tabstopManager){u.tabstopManager.tabNext()}return r};this.expandSnippetForSelection=function(t,s){var y=t.getCursorPosition();var r=t.session.getLine(y.row);var w=r.substring(0,y.column);var x=r.substr(y.column);var v=this.snippetMap;var u;this.getActiveScopes(t).some(function(A){var z=v[A];if(z){u=this.findMatchingSnippet(z,w,x)}return !!u},this);if(!u){return false}if(s&&s.dryRun){return true}t.session.doc.removeInLine(y.row,y.column-u.replaceBefore.length,y.column+u.replaceAfter.length);this.variables.M__=u.matchBefore;this.variables.T__=u.matchAfter;this.insertSnippetForSelection(t,u.content);this.variables.M__=this.variables.T__=null;return true};this.findMatchingSnippet=function(w,u,v){for(var r=w.length;r--;){var t=w[r];if(t.startRe&&!t.startRe.test(u)){continue}if(t.endRe&&!t.endRe.test(v)){continue}if(!t.startRe&&!t.endRe){continue}t.matchBefore=t.startRe?t.startRe.exec(u):[""];t.matchAfter=t.endRe?t.endRe.exec(v):[""];t.replaceBefore=t.triggerRe?t.triggerRe.exec(u)[0]:"";t.replaceAfter=t.endTriggerRe?t.endTriggerRe.exec(v)[0]:"";return t}};this.snippetMap={};this.snippetNameMap={};this.register=function(u,v){var w=this.snippetMap;var t=this.snippetNameMap;var s=this;if(!u){u=[]}function y(z){if(z&&!/^\^?\(.*\)\$?$|^\\b$/.test(z)){z="(?:"+z+")"}return z||""}function r(A,B,z){A=y(A);B=y(B);if(z){A=B+A;if(A&&A[A.length-1]!="$"){A=A+"$"}}else{A=A+B;if(A&&A[0]!="^"){A="^"+A}}return new RegExp(A)}function x(A){if(!A.scope){A.scope=v||"_"}v=A.scope;if(!w[v]){w[v]=[];t[v]={}}var B=t[v];if(A.name){var z=B[A.name];if(z){s.unregister(z)}B[A.name]=A}w[v].push(A);if(A.tabTrigger&&!A.trigger){if(!A.guard&&/^\w/.test(A.tabTrigger)){A.guard="\\b"}A.trigger=b.escapeRegExp(A.tabTrigger)}if(!A.trigger&&!A.guard&&!A.endTrigger&&!A.endGuard){return}A.startRe=r(A.trigger,A.guard,true);A.triggerRe=new RegExp(A.trigger,"",true);A.endRe=r(A.endTrigger,A.endGuard,true);A.endTriggerRe=new RegExp(A.endTrigger,"",true)}if(u&&u.content){x(u)}else{if(Array.isArray(u)){u.forEach(x)}}this._signal("registerSnippets",{scope:v})};this.unregister=function(t,u){var v=this.snippetMap;var s=this.snippetNameMap;function r(x){var z=s[x.scope||u];if(z&&z[x.name]){delete z[x.name];var y=v[x.scope||u];var w=y&&y.indexOf(x);if(w>=0){y.splice(w,1)}}}if(t.content){r(t)}else{if(Array.isArray(t)){t.forEach(r)}}};this.parseSnippetFile=function(x){x=x.replace(/\r/g,"");var w=[],r={};var z=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;var t;while(t=z.exec(x)){if(t[1]){try{r=JSON.parse(t[1]);w.push(r)}catch(v){}}if(t[4]){r.content=t[4].replace(/^\t/gm,"");w.push(r);r={}}else{var y=t[2],s=t[3];if(y=="regex"){var u=/\/((?:[^\/\\]|\\.)*)|$/g;r.guard=u.exec(s)[1];r.trigger=u.exec(s)[1];r.endTrigger=u.exec(s)[1];r.endGuard=u.exec(s)[1]}else{if(y=="snippet"){r.tabTrigger=s.match(/^\S*/)[0];if(!r.name){r.name=s}}else{r[y]=s}}}}return w};this.getSnippetByName=function(r,s){var u=this.snippetNameMap;var t;this.getActiveScopes(s).some(function(w){var v=u[w];if(v){t=v[r]}return !!t},this);return t}}).call(a.prototype);var k=function(r){if(r.tabstopManager){return r.tabstopManager}r.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=b.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(r)};(function(){this.attach=function(r){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=r;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(D){var w=D;var t=D.action[0]=="r";var v=D.start;var x=D.end;var E=v.row;var y=x.row;var C=y-E;var A=x.column-v.column;if(t){C=-C;A=-A}if(!this.$inChange&&t){var B=this.selectedTabstop;var F=B&&!B.some(function(G){return p(G.start,v)<=0&&p(G.end,x)>=0});if(F){return this.detach()}}var u=this.ranges;for(var z=0;z<u.length;z++){var s=u[z];if(s.end.row<v.row){continue}if(t&&p(v,s.start)<0&&p(x,s.end)>0){this.removeRange(s);z--;continue}if(s.start.row==E&&s.start.column>v.column){s.start.column+=A}if(s.end.row==E&&s.end.column>=v.column){s.end.column+=A}if(s.start.row>=E){s.start.row+=C}if(s.end.row>=E){s.end.row+=C}if(p(s.start,s.end)>0){this.removeRange(s)}}if(!u.length){this.detach()}};this.updateLinkedFields=function(){var u=this.selectedTabstop;if(!u||!u.hasLinkedRanges){return}this.$inChange=true;var v=this.editor.session;var w=v.getTextRange(u.firstNonLinked);for(var t=u.length;t--;){var s=u[t];if(!s.linked){continue}var r=f.snippetManager.tmStrFormat(w,s.original);v.replace(s,r)}this.$inChange=false};this.onAfterExec=function(r){if(r.command&&!r.command.readOnly){this.updateLinkedFields()}};this.onChangeSelection=function(){if(!this.editor){return}var t=this.editor.selection.lead;var s=this.editor.selection.anchor;var w=this.editor.selection.isEmpty();for(var u=this.ranges.length;u--;){if(this.ranges[u].linked){continue}var r=this.ranges[u].contains(t.row,t.column);var v=w||this.ranges[u].contains(s.row,s.column);if(r&&v){return}}this.detach()};this.onChangeSession=function(){this.detach()};this.tabNext=function(t){var r=this.tabstops.length;var s=this.index+(t||1);s=Math.min(Math.max(s,1),r);if(s==r){s=0}this.selectTabstop(s);if(s===0){this.detach()}};this.selectTabstop=function(r){this.$openTabstops=null;var t=this.tabstops[this.index];if(t){this.addTabstopMarkers(t)}this.index=r;t=this.tabstops[this.index];if(!t||!t.length){return}this.selectedTabstop=t;if(!this.editor.inVirtualSelectionMode){var u=this.editor.multiSelect;u.toSingleRange(t.firstNonLinked.clone());for(var s=t.length;s--;){if(t.hasLinkedRanges&&t[s].linked){continue}u.addRange(t[s].clone(),true)}if(u.ranges[0]){u.addRange(u.ranges[0].clone())}}else{this.editor.selection.setRange(t.firstNonLinked)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.addTabstops=function(w,x,t){if(!this.$openTabstops){this.$openTabstops=[]}if(!w[0]){var v=d.fromPoints(t,t);h(v.start,x);h(v.end,x);w[0]=[v];w[0].index=0}var u=this.index;var r=[u+1,0];var s=this.ranges;w.forEach(function(C,A){var z=this.$openTabstops[A]||C;for(var B=C.length;B--;){var D=C[B];var y=d.fromPoints(D.start,D.end||D.start);o(y.start,x);o(y.end,x);y.original=D;y.tabstop=z;s.push(y);if(z!=C){z.unshift(y)}else{z[B]=y}if(D.fmtString){y.linked=true;z.hasLinkedRanges=true}else{if(!z.firstNonLinked){z.firstNonLinked=y}}}if(!z.firstNonLinked){z.hasLinkedRanges=false}if(z===C){r.push(z);this.$openTabstops[A]=z}this.addTabstopMarkers(z)},this);if(r.length>2){if(this.tabstops.length){r.push(r.splice(2,1)[0])}this.tabstops.splice.apply(this.tabstops,r)}};this.addTabstopMarkers=function(r){var s=this.editor.session;r.forEach(function(t){if(!t.markerId){t.markerId=s.addMarker(t,"ace_snippet-marker","text")}})};this.removeTabstopMarkers=function(r){var s=this.editor.session;r.forEach(function(t){s.removeMarker(t.markerId);t.markerId=null})};this.removeRange=function(r){var s=r.tabstop.indexOf(r);r.tabstop.splice(s,1);s=this.ranges.indexOf(r);this.ranges.splice(s,1);this.editor.session.removeMarker(r.markerId);if(!r.tabstop.length){s=this.tabstops.indexOf(r.tabstop);if(s!=-1){this.tabstops.splice(s,1)}if(!this.tabstops.length){this.detach()}}};this.keyboardHandler=new j();this.keyboardHandler.bindKeys({Tab:function(r){if(f.snippetManager&&f.snippetManager.expandWithTab(r)){return}r.tabstopManager.tabNext(1)},"Shift-Tab":function(r){r.tabstopManager.tabNext(-1)},Esc:function(r){r.tabstopManager.detach()},Return:function(r){return false}})}).call(k.prototype);var m={};m.onChange=g.prototype.onChange;m.setPosition=function(s,r){this.pos.row=s;this.pos.column=r};m.update=function(t,s,r){this.$insertRight=r;this.pos=t;this.onChange(s)};var o=function(r,s){if(r.row==0){r.column+=s.column}r.row+=s.row};var h=function(r,s){if(r.row==s.row){r.column-=s.column}r.row-=s.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");f.snippetManager=new a();var i=e("./editor").Editor;(function(){this.insertSnippet=function(s,r){return f.snippetManager.insertSnippet(this,s,r)};this.expandSnippet=function(r){return f.snippetManager.expandWithTab(this,r)}}).call(i.prototype)});ace.define("ace/ext/emmet",["require","exports","module","ace/keyboard/hash_handler","ace/editor","ace/snippets","ace/range","ace/config"],function(d,h,b){var l=d("ace/keyboard/hash_handler").HashHandler;var k=d("ace/editor").Editor;var a=d("ace/snippets").snippetManager;var c=d("ace/range").Range;var e,g;function i(){}i.prototype={setupContext:function(q){this.ace=q;this.indentation=q.session.getTabString();if(!e){e=window.emmet}var r=e.resources||e.require("resources");r.setVariable("indentation",this.indentation);this.$syntax=null;this.$syntax=this.getSyntax()},getSelectionRange:function(){var q=this.ace.getSelectionRange();var r=this.ace.session.doc;return{start:r.positionToIndex(q.start),end:r.positionToIndex(q.end)}},createSelection:function(s,q){var r=this.ace.session.doc;this.ace.selection.setRange({start:r.indexToPosition(s),end:r.indexToPosition(q)})},getCurrentLineRange:function(){var s=this.ace;var t=s.getCursorPosition().row;var q=s.session.getLine(t).length;var r=s.session.doc.positionToIndex({row:t,column:0});return{start:r,end:r+q}},getCaretPos:function(){var q=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(q)},setCaretPos:function(q){var r=this.ace.session.doc.indexToPosition(q);this.ace.selection.moveToPosition(r)},getCurrentLine:function(){var q=this.ace.getCursorPosition().row;return this.ace.session.getLine(q)},replaceContent:function(u,w,q,t){if(q==null){q=w==null?this.getContent().length:w}if(w==null){w=0}var s=this.ace;var v=s.session.doc;var r=c.fromPoints(v.indexToPosition(w),v.indexToPosition(q));s.session.remove(r);r.end=r.start;u=this.$updateTabstops(u);a.insertSnippet(s,u)},getContent:function(){return this.ace.getValue()},getSyntax:function(){if(this.$syntax){return this.$syntax}var q=this.ace.session.$modeId.split("/").pop();if(q=="markdown"||q=="html"||q=="php"){var s=this.ace.getCursorPosition();var r=this.ace.session.getState(s.row);if(typeof r!="string"){r=r[0]}if(r){r=r.split("-");if(r.length>1){q=r[0]}else{if(q=="php"){q="html"}}}}return q},getProfileName:function(){var r=e.resources||e.require("resources");switch(this.getSyntax()){case"css":return"css";case"xml":case"xsl":return"xml";case"markdown":case"html":var q=r.getVariable("profile");if(!q){q=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)!=-1?"xhtml":"html"}return q;default:var s=this.ace.session.$mode;return s.emmetConfig&&s.emmetConfig.profile||"xhtml"}},prompt:function(q){return prompt(q)},getSelection:function(){return this.ace.session.getTextRange()},getFilePath:function(){return""},$updateTabstops:function(y){var q=1000;var x=0;var t=null;var w=e.tabStops||e.require("tabStops");var r=e.resources||e.require("resources");var s=r.getVocabulary("user");var u={tabstop:function(B){var C=parseInt(B.group,10);var A=C===0;if(A){C=++x}else{C+=q}var D=B.placeholder;if(D){D=w.processText(D,u)}var z="${"+C+(D?":"+D:"")+"}";if(A){t=[B.start,z]}return z},escape:function(z){if(z=="$"){return"\\$"}if(z=="\\"){return"\\\\"}return z}};y=w.processText(y,u);if(s.variables.insert_final_tabstop&&!/\$\{0\}$/.test(y)){y+="${0}"}else{if(t){var v=e.utils?e.utils.common:e.require("utils");y=v.replaceSubstring(y,"${0}",t[0],t[1])}}return y}};var j={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},match_pair_outward:{mac:"ctrl+d",win:"ctrl+,"},match_pair_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}};var o=new i();h.commands=new l();h.runEmmetCommand=function n(s){try{o.setupContext(s);var u=e.actions||e.require("actions");if(this.action=="expand_abbreviation_with_tab"){if(!s.selection.isEmpty()){return false}var v=s.selection.lead;var r=s.session.getTokenAt(v.row,v.column);if(r&&/\btag\b/.test(r.type)){return false}}if(this.action=="wrap_with_abbreviation"){return setTimeout(function(){u.run("wrap_with_abbreviation",o)},0)}var q=u.run(this.action,o)}catch(t){if(!e){m(n.bind(this,s));return true}s._signal("changeStatus",typeof t=="string"?t:t.message);console.log(t);q=false}return q};for(var f in j){h.commands.addCommand({name:"emmet:"+f,action:f,bindKey:j[f],exec:h.runEmmetCommand,multiSelectAction:"forEach"})}h.updateCommands=function(r,q){if(q){r.keyBinding.addKeyboardHandler(h.commands)}else{r.keyBinding.removeKeyboardHandler(h.commands)}};h.isSupportedMode=function(q){if(!q){return false}if(q.emmetConfig){return true}var r=q.$id||q;return/css|less|scss|sass|stylus|markdown|html|php|twig|ejs|handlebars/.test(r)};h.isAvailable=function(r,u){if(/(evaluate_math_expression|expand_abbreviation)$/.test(u)){return true}var t=r.session.$mode;var q=h.isSupportedMode(t);if(q&&t.$modes){try{o.setupContext(r);if(/js|php/.test(o.getSyntax())){q=false}}catch(s){}}return q};var p=function(t,s){var r=s;if(!r){return}var q=h.isSupportedMode(r.session.$mode);if(t.enableEmmet===false){q=false}if(q){m()}h.updateCommands(r,q)};var m=function(q){if(typeof g=="string"){d("ace/config").loadModule(g,function(){g=null;q&&q()})}};h.AceEmmetEditor=i;d("ace/config").defineOptions(k.prototype,"editor",{enableEmmet:{set:function(q){this[q?"on":"removeListener"]("changeMode",p);p({enableEmmet:!!q},this)},value:true}});h.setCore=function(q){if(typeof q=="string"){g=q}else{e=q}}});(function(){ace.require(["ace/ext/emmet"],function(){})})();